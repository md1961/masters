<% holes = Hole.order(:number)
   scores = holes.map { |hole| score_card.scores.find_by(hole: hole) } -%>

<table class="score_card table_base" <%= @style.blank? && 'hidden' %>>
  <caption><%= score_card.player %></caption>
  <thead>
    <tr>
      <% holes.each do |hole| -%>
        <th class="numeric"><%= hole.number %></th>
      <% end -%>
    </tr>
    <tr>
      <% holes.each do |hole| -%>
        <th class="numeric"><%= hole.par %></th>
      <% end -%>
    </tr>
  </thead>
  <tbody>
    <tr>
      <% scores.each do |score| -%>
        <td class="numeric"><%= score.try(:value) %></td>
      <% end -%>
    </tr>
    <tr>
      <% total_par   = 0
         total_value = 0 -%>
      <% scores.size.times do |index| -%>
        <td class="numeric">
          <%= cum_score_display(index, scores) %>
        </td>
      <% end -%>
    </tr>
  </tbody>
</table>
