$('table#result tr').remove();
$('table#result').append($("<%= j render 'result' %>"));

if ($('tr#message')[0]) {
  $('input[type="submit"]').prop('disabled', true);
  setTimeout(function() {
    $('tr.delayed_display').show();
    $('input[type="submit"]').prop('disabled', false);
  }, parseInt($('tr#message').attr('data-time_to_delay')));
}

<% group = @round.group_to_display
   selector = "div#players_info table tr.group_info#{group.number}" -%>
$("<%= selector %>:first").remove();
$("<%= selector %>").replaceWith($("<%= j render partial: 'players_info_by_group',
                                            locals: {group: group, not_to_display: false} %>"));

var current_group_number = parseInt($('div#players_info table td.current').attr('data-group_number'));
if (current_group_number !== <%= group.number %>) {
  var td_group_number = $('div#players_info table td.current');
  td_group_number.toggleClass('current');
  var tr_next_group = td_group_number.parent().next().next();
  tr_next_group.children('td:first').toggleClass('current');
}
